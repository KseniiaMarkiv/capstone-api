<form class="thing-form" name="thingform">
    <span class="thing_id id">{{$ctrl.item.id}}</span>
    <span class="invalid">{{$ctrl.item.errors.full_messages}}</span>

    <div class="thing-name row g-2">
        <label class="col-auto pe-2 form-label">Name:</label>
        <input class="col-auto form-control shadow-lg bg-body rounded border-0" name="thing-name" ng-model="$ctrl.item.name" required="required" maxlength="40" pattern=".{3,}" title="3 character minimum for Name">
        <span class="invalid">{{$ctrl.item.errors.name}}</span>
    </div>

    <div class="thing-desc row g-2" ng-show="thingform.$valid">
        <label class="col-auto pe-2 form-label">Description:</label>
        <textarea class="col-auto form-control" name="thing-desc" ng-model="$ctrl.item.description" type="text" size="80" maxlength="4000">
        <span class="invalid">{{$ctrl.item.errors.description}}</span>
    </div>


    <div class="thing-notes row g-2" ng-show="$ctrl.authz.canGetDetails && thingform.$valid">
        <label class="col-auto pe-2 form-label">Notes:</label>
        <textarea class="col-auto form-control" name="thing-notes" ng-model="$ctrl.item.notes" type="text" size="80" maxlength="4000">
        <span class="invalid">{{$ctrl.item.errors.notes}}</span>
    </div>

    <div class="thing-controls">
        <span ng-show="$ctrl.authz.authenticated">
      <button name="thing-create" ng-show="!$ctrl.item.id && $ctrl.authz.canCreate" type="submit" ng-disabled="thingform.$invalid" ng-click="$ctrl.create()" class="btn btn-info btn-sm">Create Image</button>

      <span ng-show="$ctrl.item.id">
        <button name="thing-update" type="submit" ng-show="$ctrl.authz.canUpdate" ng-disabled="!thingform.$dirty" ng-click="$ctrl.update()" type="button" class="btn btn-warning btn-sm">Update Image</button>
        <button name="thing-delete" type="submit" ng-show="$ctrl.authz.canDelete" ng-click="$ctrl.remove()" type="button" class="btn btn-danger btn-sm">Delete Image</button>
      </span>
        </span>
        <button name="thing-clear" type="submit" ng-show="$ctrl.item.id || thingform.$dirty" ng-click="$ctrl.clear()" class="btn btn-secondary btn-sm">Clear Image</button>
    </div>

    <div class="thing-controls" ng-show="$ctrl.authz.authenticated">
        <button ng-show="!$ctrl.item.id && $ctrl.authz.canCreate" name="thing-create" ng-disabled="thingform.$invalid" type="submit" ng-click="$ctrl.create()" class="btn btn-info btn-sm">Create Thing</button>

        <div ng-show="$ctrl.item.id">
          <span class="thing-modify" ng-hide="!$ctrl.authz.canUpdate && !$ctrl.authz.canUpdateImage && !$ctrl.authz.canRemoveImage">
            <button name="thing-update" type="submit" ng-disabled="thingform.$invalid || !thingform.$dirty" ng-hide="!thingform['thing-name'].$dirty && !thingform['thing-desc'].$dirty && !thingform['thing-notes'].$dirty" ng-click="$ctrl.update()" class="btn btn-warning btn-sm">Update Thing</button>     
          </span>

          <button name="thing-delete" type="submit" ng-show="$ctrl.authz.canDelete" ng-click="$ctrl.remove()" class="btn btn-danger btn-sm">Delete Thing</button>
          <button name="image-clear" type="submit" ng-click="$ctrl.clear()" class="btn btn-secondary btn-sm">Clear Thing</button>
        </div>
    </div>
</form>