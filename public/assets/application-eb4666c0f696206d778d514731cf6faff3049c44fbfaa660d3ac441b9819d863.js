(function(){var e=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form:not([data-turbo=true])",formInputClickSelector:"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(e);var t=e.Rails;(function(){(function(){var e;e=null,t.loadCSPNonce=function(){var t;return e=null!=(t=document.querySelector("meta[name=csp-nonce]"))?t.content:void 0},t.cspNonce=function(){return null!=e?e:t.loadCSPNonce()}}).call(this),function(){var e,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,t.matches=function(e,t){return null!=t.exclude?n.call(e,t.selector)&&!n.call(e,t.exclude):n.call(e,t)},e="_ujsData",t.getData=function(t,n){var o;return null!=(o=t[e])?o[n]:void 0},t.setData=function(t,n,o){return null==t[e]&&(t[e]={}),t[e][n]=o},t.$=function(e){return Array.prototype.slice.call(document.querySelectorAll(e))}}.call(this),function(){var e,n,o;e=t.$,o=t.csrfToken=function(){var e;return(e=document.querySelector("meta[name=csrf-token]"))&&e.content},n=t.csrfParam=function(){var e;return(e=document.querySelector("meta[name=csrf-param]"))&&e.content},t.CSRFProtection=function(e){var t;if(null!=(t=o()))return e.setRequestHeader("X-CSRF-Token",t)},t.refreshCSRFTokens=function(){var t,a;if(a=o(),t=n(),null!=a&&null!=t)return e('form input[name="'+t+'"]').forEach((function(e){return e.value=a}))}}.call(this),function(){var e,n,o,a;o=t.matches,"function"!=typeof(e=window.CustomEvent)&&((e=function(e,t){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype,a=e.prototype.preventDefault,e.prototype.preventDefault=function(){var e;return e=a.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),e}),n=t.fire=function(t,n,o){var a;return a=new e(n,{bubbles:!0,cancelable:!0,detail:o}),t.dispatchEvent(a),!a.defaultPrevented},t.stopEverything=function(e){return n(e.target,"ujs:everythingStopped"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},t.delegate=function(e,t,n,a){return e.addEventListener(n,(function(e){var n;for(n=e.target;n instanceof Element&&!o(n,t);)n=n.parentNode;if(n instanceof Element&&!1===a.call(n,e))return e.preventDefault(),e.stopPropagation()}))}}.call(this),function(){var e,n,o,a,r,i;a=t.cspNonce,n=t.CSRFProtection,t.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},t.ajax=function(e){var t;return e=r(e),t=o(e,(function(){var n,o;return o=i(null!=(n=t.response)?n:t.responseText,t.getResponseHeader("Content-Type")),2===Math.floor(t.status/100)?"function"==typeof e.success&&e.success(o,t.statusText,t):"function"==typeof e.error&&e.error(o,t.statusText,t),"function"==typeof e.complete?e.complete(t,t.statusText):void 0})),!(null!=e.beforeSend&&!e.beforeSend(t,e))&&(t.readyState===XMLHttpRequest.OPENED?t.send(e.data):void 0)},r=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},o=function(e,t){var o;return(o=new XMLHttpRequest).open(e.type,e.url,!0),o.setRequestHeader("Accept",e.accept),"string"==typeof e.data&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.crossDomain||(o.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(o)),o.withCredentials=!!e.withCredentials,o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)return t(o)},o},i=function(e,t){var n,o;if("string"==typeof e&&"string"==typeof t)if(t.match(/\bjson\b/))try{e=JSON.parse(e)}catch(e){}else if(t.match(/\b(?:java|ecma)script\b/))(o=document.createElement("script")).setAttribute("nonce",a()),o.text=e,document.head.appendChild(o).parentNode.removeChild(o);else if(t.match(/\b(xml|html|svg)\b/)){n=new DOMParser,t=t.replace(/;.+/,"");try{e=n.parseFromString(e,t)}catch(e){}}return e},t.href=function(e){return e.href},t.isCrossDomain=function(e){var t,n;(t=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=e,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return e,!0}}}.call(this),function(){var e,n;e=t.matches,n=function(e){return Array.prototype.slice.call(e)},t.serializeElement=function(t,o){var a,r;return a=[t],e(t,"form")&&(a=n(t.elements)),r=[],a.forEach((function(t){if(t.name&&!t.disabled&&!e(t,"fieldset[disabled] *"))return e(t,"select")?n(t.options).forEach((function(e){if(e.selected)return r.push({name:t.name,value:e.value})})):t.checked||-1===["radio","checkbox","submit"].indexOf(t.type)?r.push({name:t.name,value:t.value}):void 0})),o&&r.push(o),r.map((function(e){return null!=e.name?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):e})).join("&")},t.formElements=function(t,o){return e(t,"form")?n(t.elements).filter((function(t){return e(t,o)})):n(t.querySelectorAll(o))}}.call(this),function(){var e,n,o;n=t.fire,o=t.stopEverything,t.handleConfirm=function(t){if(!e(this))return o(t)},t.confirm=function(e){return confirm(e)},e=function(e){var o,a,r;if(!(r=e.getAttribute("data-confirm")))return!0;if(o=!1,n(e,"confirm")){try{o=t.confirm(r,e)}catch(e){}a=n(e,"confirm:complete",[o])}return o&&a}}.call(this),function(){var e,n,o,a,r,i,l,u,c,s,d,f;s=t.matches,u=t.getData,d=t.setData,f=t.stopEverything,l=t.formElements,t.handleDisabledElement=function(e){if(this.disabled)return f(e)},t.enableElement=function(e){var n;if(e instanceof Event){if(c(e))return;n=e.target}else n=e;return s(n,t.linkDisableSelector)?i(n):s(n,t.buttonDisableSelector)||s(n,t.formEnableSelector)?a(n):s(n,t.formSubmitSelector)?r(n):void 0},t.disableElement=function(a){var r;return r=a instanceof Event?a.target:a,s(r,t.linkDisableSelector)?o(r):s(r,t.buttonDisableSelector)||s(r,t.formDisableSelector)?e(r):s(r,t.formSubmitSelector)?n(r):void 0},o=function(e){var t;if(!u(e,"ujs:disabled"))return null!=(t=e.getAttribute("data-disable-with"))&&(d(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t),e.addEventListener("click",f),d(e,"ujs:disabled",!0)},i=function(e){var t;return null!=(t=u(e,"ujs:enable-with"))&&(e.innerHTML=t,d(e,"ujs:enable-with",null)),e.removeEventListener("click",f),d(e,"ujs:disabled",null)},n=function(n){return l(n,t.formDisableSelector).forEach(e)},e=function(e){var t;if(!u(e,"ujs:disabled"))return null!=(t=e.getAttribute("data-disable-with"))&&(s(e,"button")?(d(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t):(d(e,"ujs:enable-with",e.value),e.value=t)),e.disabled=!0,d(e,"ujs:disabled",!0)},r=function(e){return l(e,t.formEnableSelector).forEach(a)},a=function(e){var t;return null!=(t=u(e,"ujs:enable-with"))&&(s(e,"button")?e.innerHTML=t:e.value=t,d(e,"ujs:enable-with",null)),e.disabled=!1,d(e,"ujs:disabled",null)},c=function(e){var t,n;return null!=(null!=(n=null!=(t=e.detail)?t[0]:void 0)?n.getResponseHeader("X-Xhr-Redirect"):void 0)}}.call(this),function(){var e;e=t.stopEverything,t.handleMethod=function(n){var o,a,r,i,l,u,c;if(c=(u=this).getAttribute("data-method"))return l=t.href(u),a=t.csrfToken(),o=t.csrfParam(),r=document.createElement("form"),i="<input name='_method' value='"+c+"' type='hidden' />",null==o||null==a||t.isCrossDomain(l)||(i+="<input name='"+o+"' value='"+a+"' type='hidden' />"),i+='<input type="submit" />',r.method="post",r.action=l,r.target=u.target,r.innerHTML=i,r.style.display="none",document.body.appendChild(r),r.querySelector('[type="submit"]').click(),e(n)}}.call(this),function(){var e,n,o,a,r,i,l,u,c,s=[].slice;i=t.matches,o=t.getData,u=t.setData,n=t.fire,c=t.stopEverything,e=t.ajax,a=t.isCrossDomain,l=t.serializeElement,r=function(e){var t;return null!=(t=e.getAttribute("data-remote"))&&"false"!==t},t.handleRemote=function(d){var f,m,p,b,h,v,S;return!r(b=this)||(n(b,"ajax:before")?(S=b.getAttribute("data-with-credentials"),p=b.getAttribute("data-type")||"script",i(b,t.formSubmitSelector)?(f=o(b,"ujs:submit-button"),h=o(b,"ujs:submit-button-formmethod")||b.method,v=o(b,"ujs:submit-button-formaction")||b.getAttribute("action")||location.href,"GET"===h.toUpperCase()&&(v=v.replace(/\?.*$/,"")),"multipart/form-data"===b.enctype?(m=new FormData(b),null!=f&&m.append(f.name,f.value)):m=l(b,f),u(b,"ujs:submit-button",null),u(b,"ujs:submit-button-formmethod",null),u(b,"ujs:submit-button-formaction",null)):i(b,t.buttonClickSelector)||i(b,t.inputChangeSelector)?(h=b.getAttribute("data-method"),v=b.getAttribute("data-url"),m=l(b,b.getAttribute("data-params"))):(h=b.getAttribute("data-method"),v=t.href(b),m=b.getAttribute("data-params")),e({type:h||"GET",url:v,data:m,dataType:p,beforeSend:function(e,t){return n(b,"ajax:beforeSend",[e,t])?n(b,"ajax:send",[e]):(n(b,"ajax:stopped"),!1)},success:function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],n(b,"ajax:success",e)},error:function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],n(b,"ajax:error",e)},complete:function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],n(b,"ajax:complete",e)},crossDomain:a(v),withCredentials:null!=S&&"false"!==S}),c(d)):(n(b,"ajax:stopped"),!1))},t.formSubmitButtonClick=function(){var e,t;if(t=(e=this).form)return e.name&&u(t,"ujs:submit-button",{name:e.name,value:e.value}),u(t,"ujs:formnovalidate-button",e.formNoValidate),u(t,"ujs:submit-button-formaction",e.getAttribute("formaction")),u(t,"ujs:submit-button-formmethod",e.getAttribute("formmethod"))},t.preventInsignificantClick=function(e){var t,n,o,a;if(a=((o=this).getAttribute("data-method")||"GET").toUpperCase(),t=o.getAttribute("data-params"),n=(e.metaKey||e.ctrlKey)&&"GET"===a&&!t,null!=e.button&&0!==e.button||n)return e.stopImmediatePropagation()}}.call(this),function(){var e,n,o,a,r,i,l,u,c,s,d,f,m,p,b;if(i=t.fire,o=t.delegate,u=t.getData,e=t.$,b=t.refreshCSRFTokens,n=t.CSRFProtection,m=t.loadCSPNonce,r=t.enableElement,a=t.disableElement,s=t.handleDisabledElement,c=t.handleConfirm,p=t.preventInsignificantClick,f=t.handleRemote,l=t.formSubmitButtonClick,d=t.handleMethod,"undefined"!=typeof jQuery&&null!==jQuery&&null!=jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=t,jQuery.ajaxPrefilter((function(e,t,o){if(!e.crossDomain)return n(o)}))}t.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",(function(){return e(t.formEnableSelector).forEach((function(e){if(u(e,"ujs:disabled"))return r(e)})),e(t.linkDisableSelector).forEach((function(e){if(u(e,"ujs:disabled"))return r(e)}))})),o(document,t.linkDisableSelector,"ajax:complete",r),o(document,t.linkDisableSelector,"ajax:stopped",r),o(document,t.buttonDisableSelector,"ajax:complete",r),o(document,t.buttonDisableSelector,"ajax:stopped",r),o(document,t.linkClickSelector,"click",p),o(document,t.linkClickSelector,"click",s),o(document,t.linkClickSelector,"click",c),o(document,t.linkClickSelector,"click",a),o(document,t.linkClickSelector,"click",f),o(document,t.linkClickSelector,"click",d),o(document,t.buttonClickSelector,"click",p),o(document,t.buttonClickSelector,"click",s),o(document,t.buttonClickSelector,"click",c),o(document,t.buttonClickSelector,"click",a),o(document,t.buttonClickSelector,"click",f),o(document,t.inputChangeSelector,"change",s),o(document,t.inputChangeSelector,"change",c),o(document,t.inputChangeSelector,"change",f),o(document,t.formSubmitSelector,"submit",s),o(document,t.formSubmitSelector,"submit",c),o(document,t.formSubmitSelector,"submit",f),o(document,t.formSubmitSelector,"submit",(function(e){return setTimeout((function(){return a(e)}),13)})),o(document,t.formSubmitSelector,"ajax:send",a),o(document,t.formSubmitSelector,"ajax:complete",r),o(document,t.formInputClickSelector,"click",p),o(document,t.formInputClickSelector,"click",s),o(document,t.formInputClickSelector,"click",c),o(document,t.formInputClickSelector,"click",l),document.addEventListener("DOMContentLoaded",b),document.addEventListener("DOMContentLoaded",m),window._rails_loaded=!0},window.Rails===t&&i(document,"rails:attachBindings")&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}).call(this),function(){"use strict";angular.module("spa-demo",["ui.router","spa-demo.config","spa-demo.foos"])}(),function(){"use strict";angular.module("spa-demo").config((function(e,t,n){var o={name:"home",url:"/",templateUrl:n.main_page_html};e.state(o),t.otherwise("/")}))}(),function(){"use strict";angular.module("spa-demo.config",[]).constant("APP_CONFIG",{server_url:"",main_page_html:"/assets/spa-demo/pages/main-aaeae593a605cc2b0bece3fd21beb0b78f7d55d886f1de9abc1e119cb86988c9.html",foos_html:"/assets/spa-demo/foos/foos-4ce9f2b092beb3467c29f1d4844f6f724c284810b1b3f9114289e24786acaebe.html"})}(),function(){"use strict";angular.module("spa-demo.foos",["ngResource"])}(),function(){"use strict";function e(e){return angular.toJson({foo:e})}angular.module("spa-demo.foos").factory("spa-demo.foos.Foo",(function(t,n){return t(n.server_url+"/api/foos/:id",{id:"@id"},{update:{method:"PUT"},save:{method:"POST",transformRequest:e}})}))}(),function(){"use strict";angular.module("spa-demo.foos").controller("spa-demo.foos.FoosController",["spa-demo.foos.Foo",function(e){function t(){n(),c.foos=e.query()}function n(){c.foo=new e}function o(e){console.log(e)}function a(e){console.log("selected",e),c.foo=e}function r(){console.log("creating foo",c.foo),c.foo.$save().then((function(){c.foos.push(c.foo),n()})).catch(o)}function i(){c.foo.$update().then((function(){})).catch(o)}function l(){c.foo.$delete().then((function(){u(c.foos,c.foo),n()})).catch(o)}function u(e,t){for(var n=0;n<e.length;n++)if(e[n].id==t.id){e.splice(n,1);break}}var c=this;c.foos,c.foo,c.edit=a,c.create=r,c.update=i,c.remove=l,t()}])}(),function(){"use strict";angular.module("spa-demo.foos").directive("sdFoos",(function(e){function t(e){console.log("sdFoos",e)}return{templateUrl:e.foos_html,replace:!0,bindToController:!0,controller:"spa-demo.foos.FoosController",controllerAs:"foosVM",restrict:"E",scope:{},link:t}}))}();